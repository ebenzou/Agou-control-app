{"version":3,"sources":["uni-app:///main.js",null,"webpack:///G:/MobileAPP/AGOU/pages/index/index.vue?7a97","webpack:///G:/MobileAPP/AGOU/pages/index/index.vue?0994","webpack:///G:/MobileAPP/AGOU/pages/index/index.vue?6acd","uni-app:///pages/index/index.vue","webpack:///G:/MobileAPP/AGOU/pages/index/index.vue?b661","webpack:///G:/MobileAPP/AGOU/pages/index/index.vue?aa43"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2TnnB;AACA,MADA,kBACA;AACA;AACA,4CADA;AAEA,gDAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,mBALA;AAMA,oBANA;AAOA,eAPA;AAQA,iBARA;AASA,gBATA;AAUA,kBAVA;AAWA,eAXA;AAYA,iBAZA;AAaA,qBAbA;AAcA,uBAdA;AAeA,cAfA;AAgBA,gBAhBA;AAiBA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,mBAJA;AAKA,oBALA;AAMA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,oBAJA;AAKA,oBALA,EANA;AAYA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,wBAJA;AAKA,oBALA,EAZA;AAkBA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,qBAJA;AAKA,oBALA,EAlBA;AAwBA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,qBAJA;AAKA,oBALA,EAxBA,CAjBA;;AAgDA;AACA,aADA;AAEA,oBAFA;AAGA,eAHA;AAIA,yBAJA;AAKA,oBALA,GAhDA;;AAuDA,eAvDA;AAwDA,mBAxDA;AAyDA,eAzDA;;AA2DA,GA7DA;AA8DA,QA9DA,oBA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArEA;AAsEA,QAtEA,oBAsEA;AACA;AACA;AACA;AACA,GA1EA;AA2EA;AACA;AACA;AACA;AACA,qCADA;;AAGA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA,OATA;AAUA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAZA;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BA/BA;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAnGA;;AAqGA,OA9GA;AA+GA,KApIA;AAqIA;AACA;AACA,qCADA;AAEA,sBAFA;AAGA;AACA,6BADA,EAHA;;AAMA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAfA;AAgBA;AACA;AACA,SAlBA;;AAoBA,KA1JA;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,KAxLA;AAyLA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,6CADA;AAEA,sBAFA;AAGA;AACA,0BADA;AAEA,uBAFA,EAHA;;AAOA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA,aAPA,MAOA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SA1BA;AA2BA;AACA;AACA,SA7BA;AA8BA;AACA;AACA,SAhCA;;;AAmCA,KAvPA;AAwPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA,0BAFA;AAGA;AACA,6BADA;AAEA,sBAFA,EAHA;;AAOA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA,uCADA;AAEA,gCAFA;;AAIA,iBANA,MAMA;AACA;AACA;AACA,uCADA;AAEA,gCAFA;;AAIA;AACA;AACA,aA1BA;AA2BA;AACA;AACA,aA7BA;;AA+BA;AACA;AACA;AACA;AACA,KApSA;AAqSA;AACA;AACA;AACA,sBADA;;AAGA,KA1SA;AA2SA;AACA;AACA;AACA;AACA;AACA,KAhTA;AAiTA,aAjTA,qBAiTA,CAjTA,EAiTA;AACA;AACA;AACA,sDAHA,CAGA;AACA;AACA;AACA,qCANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,KA/TA;AAgUA,aAhUA,qBAgUA,CAhUA,EAgUA;AACA;AACA;AACA;AACA;AACA;AACA,KAtUA;AAuUA,YAvUA,oBAuUA,CAvUA,EAuUA;AACA;AACA;AACA,KA1UA;AA2UA,aA3UA,uBA2UA;AACA;AACA;AACA;AACA;AACA,KAhVA;AAiVA,cAjVA,wBAiVA;AACA;AACA;AACA;AACA;AACA,KAtVA;AAuVA,eAvVA,uBAuVA,CAvVA,EAuVA,CAvVA,EAuVA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,KA/VA;AAgWA,UAhWA,kBAgWA,CAhWA,EAgWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAtXA;AAuXA,eAvXA,uBAuXA,GAvXA,EAuXA,IAvXA,EAuXA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA;AACA,KA1YA;AA2YA,gBA3YA,wBA2YA,CA3YA,EA2YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArZA;AAsZA,eAtZA,uBAsZA,CAtZA,EAsZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA;AACA,KApaA;AAqaA,UAraA,kBAqaA,CAraA,EAqaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA;AACA,KAnbA;AAobA;AACA;AACA,sCADA;AAEA,qBAFA;AAGA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;AAGA;AACA,aANA,MAMA;AACA;AACA;AACA;AACA,SAlBA;AAmBA,oDAnBA;AAoBA,wCApBA;;AAsBA,KA3cA;AA4cA;AACA;AACA;AACA,yCADA;AAEA,sBAFA;AAGA;AACA,gBADA,EAHA;;AAMA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;AAGA;AACA;AACA,aAPA,MAOA;AACA;AACA;AACA;AACA,SAtBA;AAuBA,oDAvBA;AAwBA,wCAxBA;;AA0BA,KAxeA;AAyeA;AACA;AACA;AACA,4CADA;AAEA,sBAFA;AAGA;AACA,kBADA;AAEA,kBAFA,EAHA;;AAOA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;;AAGA,eARA;AASA;AACA;AACA,eAFA;AAGA;AACA;AACA,eAFA;AAGA;AACA;AACA,eAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aA1BA,MA0BA;AACA;AACA;AACA;AACA,SA1CA;AA2CA;AACA;AACA,SA7CA;AA8CA,wCA9CA;;AAgDA,KA3hBA;AA4hBA;AACA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,2CADA;AAEA,2CAFA,EAHA;;AAOA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aARA,MAQA;AACA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SA5BA;AA6BA;AACA;AACA,SA/BA;;AAiCA,KAhkBA;AAikBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,oBAFA;;AAIA;AACA,oBADA;;AAGA,KA/kBA;AAglBA;AACA;AACA,yCADA;AAEA,sBAFA;AAGA;AACA,yBADA;AAEA,oBAFA;AAGA,2BAHA,EAHA;;AAQA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SA3BA;AA4BA;AACA;AACA,SA9BA;;AAgCA,KAjnBA;AAknBA;AACA;AACA,yCADA;AAEA,sBAFA;AAGA;AACA,oBADA;AAEA,2BAFA,EAHA;;AAOA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SAtBA;AAuBA;AACA;AACA,SAzBA;;AA2BA,KA9oBA;AA+oBA;AACA;AACA;AACA;AACA;AACA,wDADA;AAEA,qBAFA;AAGA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;AAeA,oDAfA;;AAiBA,KApqBA;AAqqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjrBA;AAkrBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA,OAPA,MAOA;AACA;AACA;AACA,KA7rBA,EA3EA,E;;;;;;;;;;;;AC3TA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,k3BAAG,EAAC,C;;;;;;;;;;ACAr4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page\">\n\t\t\n\t\t<scroll-view scroll-x class=\"bg-green nav text-center\">\n\t\t\t<view class=\"cu-item\" :class=\"index==TabCur?'text-white cur':''\" v-for=\"(item,index) in glist.group\" :key=\"index\" @tap=\"tabSelect(item.id,$event)\" :data-id=\"index\">\n\t\t\t\t<text class=\"cuIcon-list margin-right-xs\"></text>{{item.name}}\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<!-- <checkbox-group class=\"block\" @change=\"CheckboxChange\"> -->\n\t\t<view v-for=\"(item,index) in glist.group\" :key=\"index\" v-if=\"index==TabCur\">\n\t\t\t<view class=\"cu-list menu card-menu margin-top\">\n\t\t\t\t<view class=\"cu-item cu-form-group\" v-for=\"(item,index) in glist.list\" :key=\"index\" @tap=\"ChooseDevice\" :data-value=\"item.id\">\n\t\t\t\t\t<text class=\"cuIcon-title\" :class=\"item.device_stat=='online'?'text-green':'text-orange'\"></text>\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<text class=\"cuIcon-mobilefill margin-right-xs\" :class=\"item.checked?'text-green':'text-grey'\"></text>\n\t\t\t\t\t\t<text class=\"cu-tag round light\" :class=\"item.checked?'bg-olive':'bg-grey'\">{{item.num}}</text>\r\n\t\t\t\t\t\t<text class=\"text-xs padding\" :class=\"item.checked?'text-olive':'text-gray'\">{{item.doing}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t<!-- <view class=\"cu-tag round light margin-right-xs\" :class=\"item.checked?'bg-olive':'bg-grey'\">{{item.device_num}}</view> -->\n\t\t\t\t\t\t<button class=\"cu-btn sm bg-grey shadow margin-right-xs\" @tap=\"showModal\" data-target=\"setGroup\" :data-value=\"item.device_num\">分组</button>\n\t\t\t\t\t\t<button class=\"cu-btn sm bg-grey shadow\" @tap=\"showModal\" data-target=\"setNum\" :data-value=\"item.device_num\">编号</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- </checkbox-group> -->\n\t\t<view class=\"cu-bar justify-center margin-top\">\n\t\t\t没有数据了\n\t\t</view>\n\t\t<!-- Modal弹窗配置区 -->\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='commonModal'?'show':''\" @tap=\"hideModal('commonModal')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">相关设置</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('commonModal')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"text-grey content margin-top\">您选取了{{count}}台设备</view>\n\t\t\t\t<view class=\"grid col-3 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in cfgList\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"selCfg\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin justify-center\">\n\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"commonSet\">设置</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='klSet'?'show':''\" @tap=\"hideModal('klSet')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">相关设置</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('klSet')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"grid col-3 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in kl_cfg\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"ChooseKlCfg\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin justify-center\">\n\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"klSet\">开始养号</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='fbagSet'?'show':''\" @tap=\"hideModal('fbagSet')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">相关设置</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('fbagSet')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"grid col-3 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in fbag_cfg\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"ChooseFbagCfg\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin justify-center\">\n\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"fbagSet\">运行福袋</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal drawer-modal justify-start\" :class=\"modalName=='LiveModal'?'show':''\" @tap=\"hideModal\">\n\t\t\t<view class=\"cu-dialog basis-lg\" @tap.stop=\"\" :style=\"[{top:CustomBar+'px',height:'calc(100vh - ' + CustomBar + 'px)'}]\">\n\t\t\t\t<view class=\"cu-list menu text-left\">\n\t\t\t\t\t<view class=\"cu-bar bg-white\">\n\t\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-green\"></text>\n\t\t\t\t\t\t\t<text>直播站粉管理</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\r\n\t\t\t\t\t\t<button class=\"cu-btn sm bg-green\" @tap=\"liveCommand('live_mode','直播模式')\">先点这里打开直播界面</button>\r\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<!-- <view class=\"title\">邮件</view> -->\n\t\t\t\t\t\t<input placeholder=\"直播间分享代码\" v-model=\"douyin_str\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow' @tap=\"enterLiveroom\">链接进直播间</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<input placeholder=\"11|22|33\" name=\"input\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow'>评论互动</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<input placeholder=\"点赞次数\" name=\"input\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow'>左边点赞</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<input placeholder=\"点赞次数\" name=\"input\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow'>右边点赞</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<input placeholder=\"11|22|33\" name=\"input\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow margin-right-xs'>滚屏</button>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow'>停止</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t<input placeholder=\"随机百分比\" name=\"input\"></input>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow margin-right-xs'>浏览</button>\n\t\t\t\t\t\t<button class='cu-btn sm bg-green shadow'>停止</button>\n\t\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t\t<view class=\"grid col-3 padding-xs bg-gray light\">\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">加粉丝团</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">加关注</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">关注前三</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">关注前五</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">赠送灯牌</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">赠送心心</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">赠送抖音</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">看小黄车</button></view>\n\t\t\t\t\t\t<view class=\"margin-top-xs\"><button class=\"cu-btn sm bg-green\">进对手房</button></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='setGroup'?'show':''\" @tap=\"hideModal('setGroup')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">设置分组</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('setGroup')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"text-grey content margin-top\">设备号:{{modalDevice}}</view>\n\t\t\t\t<view class=\"grid col-4 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in glist.group\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"ChooseGroup\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin justify-center\">\n\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"setGroup(item.id)\">设置</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='groupDevices'?'show':''\" @tap=\"hideModal('groupDevices')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">设置分组</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('groupDevices')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"text-grey content margin-top\">您选取了{{count}}台设备</view>\n\t\t\t\t<view class=\"grid col-4 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in glist.group\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"ChooseGroup\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin justify-center\">\n\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"setGroup\">设置</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='setNum'?'show':''\" @tap=\"hideModal('setNum')\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">设置编号</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal('setNum')\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"padding-xl\">\n\t\t\t\t\t<view class=\"text-grey\">设备号:{{modalDevice}}</view>\n\t\t\t\t\t<view class=\"cu-form-group margin-top\">\n\t\t\t\t\t\t<view class=\"title\">设置编号</view>\n\t\t\t\t\t\t<input placeholder=\"请填写编号\" name=\"num\" v-model=\"d_num\" @focus=\"clearTxt\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"margin-top justify-center\">\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"setDeviceNum\">设置</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='LoginModal'?'show':''\">\n\t\t\t<view class=\"cu-dialog\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">用户登录</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"padding-xl\">\n\t\t\t\t\t<form @submit=\"login\">\n\t\t\t\t\t\t<view class=\"cu-form-group \">\n\t\t\t\t\t\t\t<view class=\"title\">账号</view>\n\t\t\t\t\t\t\t<input placeholder=\"请填写账号\" name=\"username\"></input>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-form-group margin-top\">\n\t\t\t\t\t\t\t<view class=\"title\">密码</view>\n\t\t\t\t\t\t\t<input placeholder=\"请填写密码\" password name=\"password\"></input>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"margin-top justify-center\">\n\t\t\t\t\t\t\t<button class='cu-btn bg-green shadow' form-type=\"submit\">登录</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</form>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName=='cmdModal'?'show':''\" @tap=\"hideModal\">\n\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\n\t\t\t\t<view class=\"cu-bar bg-white\">\n\t\t\t\t\t<view class=\"action text-green\" @tap=\"selectAll\">全选</view>\n\t\t\t\t\t<view class=\"action text-green\" @tap=\"selectNone\">全否</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"grid col-4 padding-sm\">\n\t\t\t\t\t<view v-for=\"(item,index) in cmdList\" class=\"padding-xs\" :key=\"index\">\n\t\t\t\t\t\t<button class=\"cu-btn green sm block\" :class=\"item.checked?'bg-green':'line-green'\" @tap=\"ctlCmd\" :data-value=\"item.id\"> {{item.name}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"cu-modal drawer-modal justify-end\" :class=\"modalName=='SettingModal'?'show':''\" @tap=\"hideModal\">\n\t\t\t<view class=\"cu-dialog basis-lg\" @tap.stop=\"\" :style=\"[{top:CustomBar+'px',height:'calc(100vh - ' + CustomBar + 'px)'}]\">\n\t\t\t\t<view class=\"cu-list menu text-left\">\n\t\t\t\t\t<view class=\"cu-bar bg-white\">\n\t\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-green\"></text>\n\t\t\t\t\t\t\t<text>配置管理</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow'>养号配置</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow'>福袋配置</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow'>分组管理</button>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-green\"></text>\r\n\t\t\t\t\t\t\t<text>账号管理</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\r\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow'  @tap=\"showModal\" data-target=\"LoginModal\">换号登录</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group justify-center\">\r\n\t\t\t\t\t\t<button class='cu-btn bg-green shadow' @tap=\"logout\">账号退出</button>\r\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- Modal弹窗配置区 结束-->\n\t\t\t\t\n\t\t<view class=\"cu-bar tabbar margin-top solid-bottom bg-white foot\">\n\t\t\t<view class=\"action\" :class=\"PageCur=='connect'?'text-green':'text-gray'\" @tap=\"showModal\" data-target=\"cmdModal\" data-cur=\"operate\"> <!-- @tap=\"showModal\" -->\n\t\t\t\t<view :class=\"PageCur=='connect'?'cuIcon-repairfill':'cuIcon-repair'\"></view> 操作\n\t\t\t</view>\n\t\t\t<view class=\"action\" :class=\"PageCur=='Live'?'text-green':'text-gray'\" @tap=\"showModal\" data-target=\"LiveModal\"  data-cur=\"Live\">\n\t\t\t\t<view :class=\"PageCur=='Live'?'cuIcon-videofill':'cuIcon-video'\">\n\t\t\t\t\t<!-- <view class=\"cu-tag badge\">99</view> -->\n\t\t\t\t</view>\n\t\t\t\t直播\n\t\t\t</view>\n\t\t\t<view class=\"action add-action\" :class=\"isConnect?'text-green':'text-red'\" @tap=\"changeSocket()\">\n\t\t\t\t<button class=\"cu-btn shadow\" :class=\"isConnect?'cuIcon-lightfill bg-green':'cuIcon-light text-red'\"></button>\n\t\t\t\t状态\n\t\t\t</view>\n\t\t\t<view class=\"action\" :class=\"PageCur=='device'?'text-green':'text-gray'\" @tap=\"showModal\" data-target=\"groupDevices\" data-cur=\"device\">\n\t\t\t\t<view :class=\"PageCur=='device'?'cuIcon-mobilefill':'cuIcon-mobile'\"></view> 设置分组\n\t\t\t</view>\n\t\t\t<view class=\"action\" :class=\"PageCur=='Setting'?'text-green':'text-gray'\" @tap=\"showModal\" data-target=\"SettingModal\"  data-cur=\"Setting\">\n\t\t\t\t<view class=\"cuIcon-settings\"></view>\n\t\t\t\t配置\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisLogin: uni.getStorageSync('isLogin'),\n\t\t\t\tisConnect: uni.getStorageSync('isConnect'),\n\t\t\t\td_num: \"为设备命名\",\r\n\t\t\t\tdouyin_str: \"\",\n\t\t\t\td_value: null,\n\t\t\t\tdeviceList: [],\n\t\t\t\tglist: [],\n\t\t\t\tcfgList: [],\n\t\t\t\tkl_cfg: [],\n\t\t\t\tfbag_cfg: [],\n\t\t\t\trunyh: [],\n\t\t\t\tPageCur: '',\n\t\t\t\tmodalName: null,\n\t\t\t\tmodalDevice: null,\n\t\t\t\tcount:0,\n\t\t\t\ttodo:null,\n\t\t\t\tcmdList: [{\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: '识别设备',\n\t\t\t\t\ttype: 0,\n\t\t\t\t\ttodo: 'rec',\n\t\t\t\t\ttext: '识别设备'\n\t\t\t\t},{\n\t\t\t\t\tid: 2,\n\t\t\t\t\tname: '返回桌面',\n\t\t\t\t\ttype: 0,\n\t\t\t\t\ttodo: 'home',\n\t\t\t\t\ttext: '返回桌面'\n\t\t\t\t},{\n\t\t\t\t\tid: 3,\n\t\t\t\t\tname: '设置分组',\n\t\t\t\t\ttype: 1,\n\t\t\t\t\ttodo: 'setGroup',\n\t\t\t\t\ttext: '设置分组'\n\t\t\t\t},{\n\t\t\t\t\tid: 4,\n\t\t\t\t\tname: '养号设置',\n\t\t\t\t\ttype: 1,\n\t\t\t\t\ttodo: 'runyh',\n\t\t\t\t\ttext: '养号设置'\n\t\t\t\t},{\n\t\t\t\t\tid: 5,\n\t\t\t\t\tname: '福袋设置',\n\t\t\t\t\ttype: 1,\n\t\t\t\t\ttodo: 'runfd',\n\t\t\t\t\ttext: '福袋设置'\n\t\t\t\t}],\n\t\t\t\tliveCmd: [{\r\n\t\t\t\t\tid:1,\r\n\t\t\t\t\tname:'直播模式',\r\n\t\t\t\t\ttype:0,\r\n\t\t\t\t\ttodo: 'live_mode',\r\n\t\t\t\t\ttext:'直播模式'\r\n\t\t\t\t}],\n\t\t\t\tTabCur: 0,\n\t\t\t\tscrollLeft: 0,\n\t\t\t\tuid: null,\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tif (this.isLogin) {\n\t\t\t\tthis.uid = uni.getStorageSync('uid')\n\t\t\t\tthis.getCmds()\n\t\t\t\tthis.getData(this.uid)\n\t\t\t\tthis.connectWS()\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tthis.modalName = 'LoginModal'\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tconnectWS: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.connectSocket({\n\t\t\t\t\turl: 'ws://119.3.12.149:8080'\n\t\t\t\t});\n\t\t\t\tuni.onSocketOpen(function(res) {\n\t\t\t\t\tconsole.log('WebSocket连接已打开！');\n\t\t\t\t\tuni.setStorageSync('isConnect',true);\n\t\t\t\t\tthat.isConnect = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '云控已连接',\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t});\n\t\t\t\t\tlet hc = setInterval(that.heartCheck, 2000);\n\t\t\t\t});\n\t\t\t\tuni.onSocketClose(function(res){\n\t\t\t\t\tconsole.log(\"WebSocket断开连接\");\n\t\t\t\t\tuni.setStorageSync(\"isConnect\",false);\n\t\t\t\t\tthat.isConnect = false;\n\t\t\t\t});\n\t\t\t\tuni.onSocketMessage(function(res) {\n\t\t\t\t\tconsole.log('收到服务器内容：' + res.data);\n\t\t\t\t\tlet msg = JSON.parse(res.data)\n\t\t\t\t\tlet wsid = msg.ws_id;\n\t\t\t\t\tlet stat = msg.stat;\r\n\t\t\t\t\tlet mode = msg.mode;\r\n\t\t\t\t\tlet mand = msg.mand;\n\t\t\t\t\tlet device_num = msg.client_id;\r\n\t\t\t\t\tlet items = that.glist.list;\n\t\t\t\t\tswitch (msg.type) {\n\t\t\t\t\t\tcase \"init\":\n\t\t\t\t\t\t\tvar bind = '{\"type\":\"adminlog\",\"admin_id\":\"'+uni.getStorageSync('username')+'\"}';\r\n\t\t\t\t\t\t\tconsole.log(bind);\n\t\t\t\t\t\t\tuni.sendSocketMessage({\n\t\t\t\t\t\t\t\tdata: bind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase \"control\":\n\t\t\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\t\tconsole.log(msg.text);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase \"adddev\":\n\t\t\t\t\t\t\t// var dev_info = that.get_device(msg.dev_num, msg.ws_id);\n\t\t\t\t\t\t\t// console.log('adddev:', msg);\n\t\t\t\t\t\t\t// let items = that.glist.list;\r\n\t\t\t\t\t\t\tconsole.log(msg.dev_num,'这里')\n\t\t\t\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\t\t\t\tif (items[i].device_num == msg.dev_num) {\n\t\t\t\t\t\t\t\t\t// items[i].device_stat = 'online';\n\t\t\t\t\t\t\t\t\tthat.glist.list[i].wsid = wsid;\n\t\t\t\t\t\t\t\t\tthat.glist.list[i].device_stat = 'online';\n\t\t\t\t\t\t\t\t\tthat.setStatByDid(msg.dev_num,wsid,'online');\n\t\t\t\t\t\t\t\t\tconsole.log('adddev deviceList', items[i])\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tcase \"scripts\":\r\n\t\t\t\t\t\t\t// console.log(msg);\r\n\t\t\t\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\r\n\t\t\t\t\t\t\t\tif (items[i].device_num == device_num) {\r\n\t\t\t\t\t\t\t\t\t// items[i].device_stat = 'offline';\r\n\t\t\t\t\t\t\t\t\tswitch (mand){\r\n\t\t\t\t\t\t\t\t\t\tcase 'enter_homepageliveroom':\r\n\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text?msg.text:\"进入直播间失败\";\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'online':\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (mode){\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'zb':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = \"直播模式ing...\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'yh':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = \"养号模式ing...\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'fd':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = \"福袋模式ing...\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'stop':\r\n\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'zb':\r\n\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.text;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase \"info\":\r\n\t\t\t\t\t\t\tif (stat == \"offline\") {\n\t\t\t\t\t\t\t\t// that.deleteDevice(wsid);\n\t\t\t\t\t\t\t\tlet items = that.glist.list;\r\n\t\t\t\t\t\t\t\tlet device_num = msg.dev_num;\r\n\t\t\t\t\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\t\t\t\t\tif (items[i].device_num == device_num) {\n\t\t\t\t\t\t\t\t\t\tthat.glist.list[i].device_stat = 'offline';\n\t\t\t\t\t\t\t\t\t\tthat.setStatByDid(device_num,wsid,'offline');\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log('info:', msg);\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tcase \"run_state\":\r\n\t\t\t\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\r\n\t\t\t\t\t\t\t\tif (items[i].device_num == msg.dev_num) {\r\n\t\t\t\t\t\t\t\t\t// items[i].device_stat = 'online';\r\n\t\t\t\t\t\t\t\t\tthat.glist.list[i].device_stat = 'online';\r\n\t\t\t\t\t\t\t\t\tthat.glist.list[i].doing = msg.state;\r\n\t\t\t\t\t\t\t\t\tthat.setStatByDid(msg.dev_num,wsid,'online');\r\n\t\t\t\t\t\t\t\t\t// break\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tget_device: function(dev_num, wsid) {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + \"getter/\",\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdevice_num: dev_num\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\", res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('get_device', res)\n\t\t\t\t\t\t\tif (res.data.msg == \"success\") {\n\t\t\t\t\t\t\t\tthis.deviceList = this.deviceList.concat(res.data.data)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcommonSet: function() {\n\t\t\t\tlet devices = [];\n\t\t\t\tlet cfg_id = null;\r\n\t\t\t\tif (this.count == 0) {\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未指定设备',\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\n\t\t\t\tthis.glist.list.forEach(function(e,i){\n\t\t\t\t\tif (e.checked) {\n\t\t\t\t\t\tdevices = devices.concat(e)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.cfgList.forEach(function(e,i){if (e.checked) {cfg_id = e.id}});\n\t\t\t\t// console.log(devices);\n\t\t\t\t// console.log(cfg_id);\r\n\t\t\t\tif (cfg_id==null) {\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未选择配置',\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\n\t\t\t\tthis.sendCommand(this.todo,cfg_id)\n\t\t\t\tthis.hideModal('commonModal')\n\t\t\t},\n\t\t\tsetGroup: function() {\n\t\t\t\tif (this.count == 0) {\n\t\t\t\t\tthis.hideModal();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '未指定设备',\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet devices = [];\n\t\t\t\tlet gid = null;\n\t\t\t\tthis.glist.list.forEach(function(e,i){\n\t\t\t\t\tif (e.checked) {\n\t\t\t\t\t\tdevices = devices.concat(e)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.glist.group.forEach(function(e,i){if (e.checked) {gid = e.id}});\n\t\t\t\t// console.log('选中',devices);\n\t\t\t\t// console.log('分组',gid);\n\t\t\t\tif (gid==null) {\n\t\t\t\t\tthis.hideModal();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '未指定分组',\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'update/setGroup',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdevices: devices,\n\t\t\t\t\t\tgroup_id: gid\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t\tconsole.log('设置分组',res.data)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.selectNone();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis.hideModal('groupDevices')\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tsetDeviceNum: function() {\n\t\t\t\tconsole.log('设备号',this.modalDevice)\n\t\t\t\tconsole.log('编号',this.d_num)\n\t\t\t\tlet items = this.glist.list;\n\t\t\t\tlet did = this.modalDevice;\n\t\t\t\tlet num = this.d_num;\n\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\tif (items[i].device_num == did) {\n\t\t\t\t\t\titems[i].checked = !items[i].checked;\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.API_URL + 'update/info',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tdevice_num:did,\n\t\t\t\t\t\t\t\tnum:num\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log('update', res)\n\t\t\t\t\t\t\t\t\tif (res.data.code == '200') {\n\t\t\t\t\t\t\t\t\t\tconsole.log('更新成功',res.data.data)\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconsole.log('更新失败',res.data.msg)\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.hideModal('setNum')\n\t\t\t},\n\t\t\theartCheck: function() {\n\t\t\t\tvar send_str = '{\"type\":\"ping\"}';\n\t\t\t\tuni.sendSocketMessage({\n\t\t\t\t\tdata: send_str\n\t\t\t\t});\n\t\t\t},\n\t\t\ttabSelect: function(id,e) {\n\t\t\t\tthis.getData(this.uid,id)\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t\t\tthis.scrollLeft = (e.currentTarget.dataset.id - 1) * 60\n\t\t\t\tconsole.log(id)\n\t\t\t},\n\t\t\tshowModal(e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\tlet modal_name = e.currentTarget.dataset.target\n\t\t\t\tlet modal_value = e.currentTarget.dataset.value  //单选设备时弹窗传递的值\n\t\t\t\tlet devices = [];\n\t\t\t\tthis.modalName = modal_name\n\t\t\t\tthis.modalDevice = modal_value                   //单选设备时弹窗传递的值\n\t\t\t\tthis.PageCur = e.currentTarget.dataset.cur\n\t\t\t\tthis.glist.list.forEach(function(e,i){\n\t\t\t\t\tif (e.checked) {\n\t\t\t\t\t\tdevices = devices.concat(e)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.count = devices.length;\n\t\t\t},\n\t\t\thideModal(e) {\n\t\t\t\t// console.log(e)\n\t\t\t\tthis.modalName = null\n\t\t\t\tif (e=='setNum' || e=='setGroup') {\n\t\t\t\t\tthis.selectNone();\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearTxt(e) {\n\t\t\t\te.detail.value='';\n\t\t\t\tthis.d_num='';\n\t\t\t},\n\t\t\tselectAll() {\n\t\t\t\tfor (let i = 0; i < this.glist.list.length; i++) {\n\t\t\t\t\tthis.glist.list[i].checked = true;\n\t\t\t\t}\n\t\t\t\tthis.hideModal();\n\t\t\t},\n\t\t\tselectNone() {\n\t\t\t\tfor (let i = 0; i < this.glist.list.length; i++) {\n\t\t\t\t\tthis.glist.list[i].checked = false;\n\t\t\t\t}\n\t\t\t\tthis.hideModal();\n\t\t\t},\r\n\t\t\tliveCommand(e,t) {\r\n\t\t\t\tlet devices = [];\r\n\t\t\t\tthis.glist.list.forEach(function(e,i){\r\n\t\t\t\t\tif (e.checked) {\r\n\t\t\t\t\t\tdevices = devices.concat(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.sendCommand(e,t)\r\n\t\t\t},\n\t\t\tctlCmd(e) {\n\t\t\t\tlet _this = this;\n\t\t\t\tlet cmds = this.cmdList;\n\t\t\t\tlet values = e.currentTarget.dataset.value;\n\t\t\t\tfor (let i = 0, lenI = cmds.length; i < lenI; ++i) {\n\t\t\t\t\tif (cmds[i].id == values) {\n\t\t\t\t\t\tif (cmds[i].type == 0) {\n\t\t\t\t\t\t\t// 如果type是0时,则直接发送命令\n\t\t\t\t\t\t\t_this.sendCommand(cmds[i].todo,cmds[i].text)\n\t\t\t\t\t\t\tconsole.log(cmds[i].name,cmds[i].text);\n\t\t\t\t\t\t\tthis.hideModal();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (cmds[i].type == 1) {\n\t\t\t\t\t\t\t_this.getCfgList(cmds[i].todo);\n\t\t\t\t\t\t\t_this.modalName = 'commonModal';\n\t\t\t\t\t\t\t_this.todo = cmds[i].todo;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t},\n\t\t\tsendCommand(ctl,text) {\n\t\t\t\tlet items = this.glist.list;\r\n\t\t\t\tif (this.count == 0) {\r\n\t\t\t\t\tthis.hideModal();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '未指定设备',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\t\tif (items[i].checked) {\n\t\t\t\t\t\tlet str ='{\"type\":\"control\",\"admin_id\":\"'+uni.getStorageSync('username')+'\",\"toid\":\"'+items[i].device_num+'\",\"todo\":\"' + ctl + '\",\"text\":\"'+text+'\"}';\n\t\t\t\t\t\tconsole.log(str)\r\n\t\t\t\t\t\tuni.sendSocketMessage({\r\n\t\t\t\t\t\t\tdata: str\r\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tChooseDevice(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tlet items = this.glist.list;\n\t\t\t\tlet values = e.currentTarget.dataset.value;\n\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\tif (items[i].id == values) {\n\t\t\t\t\t\titems[i].checked = !items[i].checked;\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tChooseGroup(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tlet items = this.glist.group;\n\t\t\t\tlet values = e.currentTarget.dataset.value;\n\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\tif (items[i].id == values) {\n\t\t\t\t\t\tconsole.log(items[i])\n\t\t\t\t\t\titems.forEach(function(e,i) {\n\t\t\t\t\t\t\te.checked = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\titems[i].checked = !items[i].checked;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tselCfg(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tlet items = this.cfgList;\n\t\t\t\tlet values = e.currentTarget.dataset.value;\n\t\t\t\tfor (let i = 0, lenI = items.length; i < lenI; ++i) {\n\t\t\t\t\tif (items[i].id == values) {\n\t\t\t\t\t\tconsole.log(items[i])\n\t\t\t\t\t\titems.forEach(function(e,i) {\n\t\t\t\t\t\t\te.checked = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\titems[i].checked = !items[i].checked;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetCmds: function() {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'get/cmds',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.statusCode !==200){\n\t\t\t\t\t\t\tconsole.log('请求失败',res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('命令列表',res)\n\t\t\t\t\t\t\tif (res.data.code==200) {\n\t\t\t\t\t\t\t\tconsole.log('get cmds success',res.data)\n\t\t\t\t\t\t\t\tres.data.data.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.cmdList = res.data.data;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('get cmds error',res.data.msg)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {console.log(err)},\n\t\t\t\t\tcomplete: () => {}\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetCfgList: function(c) {\n\t\t\t\tlet _this=this;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'get/cfgList',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcfg:c\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('getCFG', res)\n\t\t\t\t\t\t\tif (res.data.code==200) {\n\t\t\t\t\t\t\t\tconsole.log('get config success', res.data)\n\t\t\t\t\t\t\t\tres.data.data.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t_this.cfgList = res.data.data;\n\t\t\t\t\t\t\t\tconsole.log('配置表',_this.cfgList)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('get data err',res.data.msg)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {console.log(err)},\n\t\t\t\t\tcomplete: () => {}\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetData: function(uid,gid) {\n\t\t\t\tlet _this=this;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'get/deviceList',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuid:uid,\n\t\t\t\t\t\tgid:gid\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('getdata', res)\n\t\t\t\t\t\t\tif (res.data.code==200) {\n\t\t\t\t\t\t\t\tconsole.log('get data success', res.data)\r\n\t\t\t\t\t\t\t\tlet username = uni.getStorageSync('username');\r\n\t\t\t\t\t\t\t\tres.data.list.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\r\n\t\t\t\t\t\t\t\t\te.doing = 'N/A';\r\n\t\t\t\t\t\t\t\t\t// 对所属设备通发消息，检测设备在线状态。\r\n\t\t\t\t\t\t\t\t\tlet str ='{\"type\":\"control\",\"admin_id\":\"'+username+'\",\"toid\":\"'+e.device_num+'\",\"todo\":\"run_state\",\"text\":\"run_state\"}';\r\n\t\t\t\t\t\t\t\t\tuni.sendSocketMessage({\r\n\t\t\t\t\t\t\t\t\t\tdata: str\r\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tres.data.group.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tres.data.kl_cfg.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tres.data.fbag_cfg.forEach(function(e,i){\n\t\t\t\t\t\t\t\t\te.checked=false;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t_this.glist = res.data;\n\t\t\t\t\t\t\t\t_this.kl_cfg = res.data.kl_cfg;\n\t\t\t\t\t\t\t\t_this.runyh = res.data.kl_cfg;\n\t\t\t\t\t\t\t\t_this.fbag_cfg = res.data.fbag_cfg;\n\t\t\t\t\t\t\t\tconsole.log('变更后glist',_this.glist)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('get data err',res.data.msg)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {}\n\t\t\t\t});\n\t\t\t},\n\t\t\tlogin: function(e) {\n\t\t\t\tlet _this=this;\n\t\t\t\tthis.hideModal();\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + \"get/loginInfo\",\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusername: e.detail.value.username,\n\t\t\t\t\t\tpassword: e.detail.value.password\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\", res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('loginInfo', res)\n\t\t\t\t\t\t\tif (res.data.code == '200') {\n\t\t\t\t\t\t\t\tconsole.log('登录成功',res.data.data)\n\t\t\t\t\t\t\t\tuni.setStorageSync('uid',res.data.data.uid)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('username',res.data.data.username)\n\t\t\t\t\t\t\t\tuni.setStorageSync('isLogin',true)\n\t\t\t\t\t\t\t\t_this.uid = res.data.data.uid\n\t\t\t\t\t\t\t\t_this.getData(res.data.data.uid)\n\t\t\t\t\t\t\t\t_this.connectWS();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('登录失败',res.data.msg)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\r\n\t\t\tlogout: function(e) {\r\n\t\t\t\tuni.setStorageSync('uid',null)\r\n\t\t\t\tuni.setStorageSync('username',null)\r\n\t\t\t\tuni.setStorageSync('isLogin',false)\r\n\t\t\t\tthis.isLogin = false\r\n\t\t\t\tthis.isConnect = false\r\n\t\t\t\tuni.closeSocket();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '云控连接已断开',\r\n\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t});\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl:'index'\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tsetStatByDid: function(did,wsid,stat) {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'update/info',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdevice_num:did,\n\t\t\t\t\t\twsid:wsid,\n\t\t\t\t\t\tdevice_stat:stat\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('update', res)\n\t\t\t\t\t\t\tif (res.data.code == '200') {\n\t\t\t\t\t\t\t\tconsole.log('更新成功',res.data.data)\n\t\t\t\t\t\t\t\t// uni.showToast({\n\t\t\t\t\t\t\t\t// \ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t// \ticon:\"none\"\n\t\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('更新失败',res.data.msg)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetStatByWsid: function(wsid,stat) {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.API_URL + 'update/wsid',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\twsid:wsid,\n\t\t\t\t\t\tdevice_stat:stat\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.statusCode !== 200) {\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('update', res)\n\t\t\t\t\t\t\tif (res.data.code == '200') {\n\t\t\t\t\t\t\t\tconsole.log('更新成功',res.data.data)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('更新失败',res.data.msg)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\r\n\t\t\tenterLiveroom: function() {\r\n\t\t\t\t// console.log(this.douyin_str);\r\n\t\t\t\tlet url = this.findUrl(this.douyin_str);\r\n\t\t\t\t// console.log(url);\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: this.API_URL + 'get/ownerUserId?url=' + url,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.statusCode !== 200) {\r\n\t\t\t\t\t\t\tconsole.log(\"请求失败\",res)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tthis.sendCommand(\"enter_homepageliveroom\",\"snssdk1128://user/detail/\"+res.data)\r\n\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t// \ttitle: res.data.toString(),\r\n\t\t\t\t\t\t\t// \ticon: \"none\"\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {console.log(err)}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfindUrl: function (s) {\n        var reg = /(http:\\/\\/|https:\\/\\/)((\\w|=|\\?|\\.|\\/|&|-)+)/g;\n        //var reg = /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/;\n        //var reg=/(http(s)?\\:\\/\\/)?(www\\.)?(\\w+\\:\\d+)?(\\/\\w+)+\\.(swf|gif|jpg|bmp|jpeg)/gi;\n        //var reg=/(http(s)?\\:\\/\\/)?(www\\.)?(\\w+\\:\\d+)?(\\/\\w+)+\\.(swf|gif|jpg|bmp|jpeg)/gi;\n        var reg= /(https?|http|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;\n        //var reg= /^((ht|f)tps?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?$/;\n        //v = v.replace(reg, \"<a href='$1$2'>$1$2</a>\"); //这里的reg就是上面的正则表达式\n        //s = s.replace(reg, \"$1$2\"); //这里的reg就是上面的正则表达式\n        s = s.match(reg);\n        // console.log(s)\n        return(s)\n\t\t\t},\n\t\t\tchangeSocket: function() {\n\t\t\t\tif (this.isConnect) {\n\t\t\t\t\tuni.closeSocket();\n\t\t\t\t\tconsole.log(\"连接断开\")\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '云控连接已断开',\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.connectWS();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.page {\n\t\theight: 100Vh;\n\t\twidth: 100vw;\n\t}\n\n\t.page.show {\n\t\toverflow: hidden;\n\t}\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1612181362418\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}